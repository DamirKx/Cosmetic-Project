# CosmeticsProject — Магазин косметики

Десктопное JavaFX-приложение для управления магазином косметических товаров. Позволяет вести учёт товаров, регистрировать продажи, анализировать выручку и визуализировать данные с помощью диаграмм.

## Возможности

**Управление товарами:**
- Добавление новых косметических товаров с указанием названия, цены, количества, бренда и категории
- Редактирование существующих товаров (двойной клик или контекстное меню)
- Удаление товаров из ассортимента
- Поиск по названию, бренду и категории

**Продажи:**
- Регистрация продаж с автоматическим списанием со склада
- История всех продаж с датой и временем
- Оформление возврата товара

**Аналитика:**
- Отображение общей выручки
- Выручка по категориям
- Количество проданных единиц по категориям
- Круговые и столбчатые диаграммы

## Структура проекта

```
CosmeticsProject/
├── src/main/java/
│   ├── data/
│   │   ├── DataStorage.java       # Интерфейс хранилища данных
│   │   ├── JsonDataStorage.java   # Реализация хранилища на JSON
│   │   ├── products.json          # Данные о товарах
│   │   └── sales.json             # Данные о продажах
│   ├── exceptions/
│   │   ├── EmptyFieldException.java
│   │   ├── InvalidFormatException.java
│   │   ├── NegativeValueException.java
│   │   ├── ProductNotFoundException.java
│   │   └── QuantityExceededException.java
│   ├── model/
│   │   ├── Sellable.java          # Интерфейс продаваемого товара
│   │   ├── Product.java           # Базовый класс товара
│   │   ├── CosmeticProduct.java   # Косметический товар
│   │   └── Sale.java              # Запись о продаже
│   ├── service/
│   │   └── StoreService.java      # Бизнес-логика магазина
│   └── ui/
│       └── StoreApp.java          # JavaFX интерфейс
├── src/main/resources/
│   └── log4j2.xml                 # Конфигурация логирования
├── lib/                           # Внешние библиотеки
├── logs/                          # Логи приложения
└── uml.puml                       # UML-диаграмма классов
```

## Технологии

- **Java 17+**
- **JavaFX** — графический интерфейс
- **Gson 2.13.0** — сериализация/десериализация JSON
- **Log4j 2.20.0** — логирование

## Архитектура

Проект построен по трёхслойной архитектуре:

1. **Model** — классы данных (`Product`, `CosmeticProduct`, `Sale`)
2. **Service** — бизнес-логика (`StoreService`)
3. **UI** — пользовательский интерфейс (`StoreApp`)

Слой хранения данных абстрагирован через интерфейс `DataStorage`, что позволяет легко заменить JSON-хранилище на базу данных.

## Категории товаров

- Уход
- Макияж
- Волосы
- Парфюмерия
- Маникюр
- Гигиена
- Другое

## Запуск

1. Убедитесь, что установлен JDK 17+ с поддержкой JavaFX
2. Добавьте библиотеки из папки `lib/` в classpath
3. Запустите класс `main.java.ui.StoreApp`

```bash
java --module-path /path/to/javafx/lib --add-modules javafx.controls,javafx.fxml -cp ".:lib/*" main.java.ui.StoreApp
```

## Использование

**Вкладка "Товары":**
- Используйте поля поиска для фильтрации по названию, бренду или категории
- Кнопка "Добавить" — создание нового товара
- Кнопка "Обновить" — редактирование выбранного товара
- Кнопка "Удалить" — удаление товара
- Кнопка "Продать" — регистрация продажи

**Вкладка "Продажи":**
- Просмотр истории продаж
- Возможность оформить возврат

**Вкладка "Выручка":**
- Общая сумма выручки
- Статистика по категориям
- Кнопка для открытия диаграмм

## Валидация данных

Приложение проверяет вводимые данные:
- Название, бренд и категория не могут быть пустыми
- Цена и количество должны быть неотрицательными
- Нельзя продать больше товара, чем есть на складе

## Логирование

Все действия пользователя логируются в файл `logs/app.log`:
- Добавление/удаление/обновление товаров
- Регистрация продаж
- Ошибки и исключения

## Хранение данных

Данные автоматически сохраняются в JSON-файлы при каждом изменении и загружаются при запуске приложения.

## UML-диаграмма

Файл `uml.puml` содержит диаграмму классов проекта в формате PlantUML.

## Автор

Учебный проект по дисциплине ООП / Java-разработка.

## Лицензия

Проект создан в образовательных целях.
